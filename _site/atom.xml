<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
 
 <title>tzungtzu</title>
 <link href="http://tzungtzu.com/atom.xml" rel="self"/>
 <link href="http://tzungtzu.com"/>
 <updated>2017-09-20T17:48:12+08:00</updated>
 <id>http://tzungtzu.com/</id>
 <author>
   <name>tzungtzu</name>
 </author>

 
 <entry>
   <title>python 抓取网页信息</title>
   <link href="http://tzungtzu.com/2017/09/14/python-spider.html"/>
   <updated>2017-09-14T00:00:00+08:00</updated>
   <id>http://tzungtzu.com/2017/09/14/python-spider</id>
   <content type="html">&lt;p&gt;###登录信息&lt;/p&gt;
&lt;ol&gt;
  &lt;li&gt;账号密码
 查看HTML源码，Google里可以使用CTRL+U查看，然后使用CTRL+F输入input看看有哪些字段值。
 通过 chrome 的 network 的 login 的 Form Data 获取需要的字段。
 zhihu 还有一个隐藏字段 &lt;code class=&quot;highlighter-rouge&quot;&gt;_xsrf&lt;/code&gt;，需要另外获取。简单的网站就是基本的字段。&lt;/li&gt;
&lt;/ol&gt;

&lt;!--more--&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;通过request.session的 post 方法 进行登录。 get 方法获取网页信息。

    session = requests.session()
    login_data = {'email':email,'passwd':passwd}
    session.post('http://hk2.app.akulaku.com:60100/auth/login',data = login_data)
    r = session.get('http://hk2.app.akulaku.com:60100/user')
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;ol&gt;
  &lt;li&gt;cookies&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;###爬虫爬取&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;    import bs4

    soup = bs4.BeautifulSoup(r.text,&quot;lxml&quot;)
    r = session.get('url')
    name = soup.select('.hidden-xs')[0].get_text()

    注意最后，需要通过.get_text()方法转为中文字符。
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;###抓包&lt;/p&gt;

&lt;p&gt;###ConfigParser&lt;/p&gt;

&lt;p&gt;读取配置文件信息
        cf = ConfigParser.ConfigParser()
        cf.read(‘config.ini’)
        email = cf.get(‘info’,’email’)&lt;/p&gt;

&lt;h3 id=&quot;references&quot;&gt;References:&lt;/h3&gt;
&lt;ol&gt;
  &lt;li&gt;[python爬取需要登录的网站信息](http://python.jobbole.com/83588/）&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;http://www.jianshu.com/p/9822e3f28f0a&quot;&gt;抓包&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;http://www.csuldw.com/2016/11/05/2016-11-05-simulate-zhihu-login/&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/lining0806/PythonSpiderNotes/blob/master/ZhihuSpider/ZhihuSpider.py&quot;&gt;github&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;http://www.lining0806.com/python%E5%85%A5%E9%97%A8%E7%BD%91%E7%BB%9C%E7%88%AC%E8%99%AB%E4%B9%8B%E7%B2%BE%E5%8D%8E%E7%89%88/&quot;&gt;spider&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;http://wuchong.me/blog/2014/04/24/easy-web-scraping-with-python/&quot;&gt;python 抓取网页&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
</content>
 </entry>
 
 <entry>
   <title>《大便通》读书笔记</title>
   <link href="http://tzungtzu.com/2017/08/25/shit.html"/>
   <updated>2017-08-25T00:00:00+08:00</updated>
   <id>http://tzungtzu.com/2017/08/25/shit</id>
   <content type="html">&lt;ul&gt;
  &lt;li&gt;三分之一食物残渣，三分之一肠黏膜，三分之一细菌。&lt;/li&gt;
  &lt;li&gt;大肠的功能不仅仅是排除食物残渣，大肠的蠕动影响着人类的健康，在大肠内发生的变化中，对人体有益的是发酵，有害的事腐败，即使是同种物质，如果大肠蠕动功能良好就是发酵，不好就会腐败。腐败后，腐败物质经过肠壁再次被人体吸收，成为多种疾病的诱因。&lt;/li&gt;
  &lt;li&gt;人体脏器中，和疾病相关最多的就是大肠，万病之源。&lt;/li&gt;
&lt;/ul&gt;

&lt;!--more--&gt;

&lt;ul&gt;
  &lt;li&gt;无菌人没有构建免疫机能的机会，所以抵抗力非常差，没有携带肠道细菌产生的维生素K，所以受伤后血液难以凝固，伤口不易愈合。&lt;/li&gt;
  &lt;li&gt;肠道细菌以脱落的肠粘膜和输送到大肠的食物残渣为营养来源，有益菌和有害菌营养来源不同。乳酸菌和双歧杆菌以乳糖和葡萄糖为营养源，而有害菌则从蛋白质中摄取营养后产生有害物质。&lt;/li&gt;
  &lt;li&gt;最典型的大便颜色是土黄色和褐色。这是用来分解、吸收脂肪的胆汁导致的颜色变化。胆汁由肝脏分泌，是在十二指肠内活动的碱性液体。类脂质食物吃得越多胆汁分泌越多，大便颜色加深，颜色越深越有益于有害菌的繁殖。&lt;/li&gt;
  &lt;li&gt;大量食用谷物、豆类、蔬菜，大便的 pH 值就会下降（酸性上升），大便就会呈黄色。&lt;/li&gt;
  &lt;li&gt;如果大量摄入膳食纤维和碳水化合物，大便就会很粗。而如果大量食用营养价值低的垃圾食品和零食，大便就会很细，量也会减少。&lt;/li&gt;
  &lt;li&gt;要努力培养出好的大便&lt;/li&gt;
  &lt;li&gt;什么是好的大便，比牙膏硬比香蕉软，注意颜色和气味。&lt;/li&gt;
  &lt;li&gt;双歧杆菌多的大便时黄褐色，会有发酵后的酸味。&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;重要的三点：益生菌，膳食纤维，多运动。&lt;/p&gt;

</content>
 </entry>
 
 <entry>
   <title>vi 快捷键</title>
   <link href="http://tzungtzu.com/2017/08/24/vi-shortcut.html"/>
   <updated>2017-08-24T00:00:00+08:00</updated>
   <id>http://tzungtzu.com/2017/08/24/vi-shortcut</id>
   <content type="html">&lt;p&gt;习惯用 ctrl 的&lt;a href=&quot;http://tzungtzu.github.io/2016/11/27/shortcut.html&quot;&gt;快捷键&lt;/a&gt;，发现在 vi 里使用不了，所以记录下方便查找和使用。&lt;/p&gt;

&lt;!--more--&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th&gt;Action&lt;/th&gt;
      &lt;th&gt;Keystroke&lt;/th&gt;
      &lt;th&gt;Remember as&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;左下上右&lt;/td&gt;
      &lt;td&gt;h,j,k,l&lt;/td&gt;
      &lt;td&gt; &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;下一个词词首&lt;/td&gt;
      &lt;td&gt;w&lt;/td&gt;
      &lt;td&gt; &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;上一个词词首&lt;/td&gt;
      &lt;td&gt;b&lt;/td&gt;
      &lt;td&gt; &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;下一个词词尾&lt;/td&gt;
      &lt;td&gt;e&lt;/td&gt;
      &lt;td&gt; &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;直接跳转到当前屏幕的顶部、中部、底部&lt;/td&gt;
      &lt;td&gt;H、M、L&lt;/td&gt;
      &lt;td&gt; &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;跳转到文件首&lt;/td&gt;
      &lt;td&gt;gg&lt;/td&gt;
      &lt;td&gt; &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;跳转到文件尾&lt;/td&gt;
      &lt;td&gt;G&lt;/td&gt;
      &lt;td&gt; &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;跳转到行首&lt;/td&gt;
      &lt;td&gt;0&lt;/td&gt;
      &lt;td&gt; &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;跳转到行尾&lt;/td&gt;
      &lt;td&gt;$&lt;/td&gt;
      &lt;td&gt; &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;跳转到下一行的行尾&lt;/td&gt;
      &lt;td&gt;2$&lt;/td&gt;
      &lt;td&gt; &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;跳转到当前的行首、行尾&lt;/td&gt;
      &lt;td&gt;()&lt;/td&gt;
      &lt;td&gt; &lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;一、进入输入模式
1、i：在当前光标所在处前插入文本；
2、I：将光标移动到当前行的行首，并在行首前插入文本；
3、a：在当前光标所在处之后插入文本；
4、A：将光标移动到当前行的行末，并在行末之后插入文本；
5、o：在光标所在行的下面新插入一行，并将光标移动到新行的行首插入文本；
6、O：在光标所在行的上面新插入一行，并将光标移动到新行的行首插入文本；&lt;/p&gt;

&lt;p&gt;二、光标移动
1、h或者左方向键:将光标向左移动一格；
2、j或者下方向键：将光标向下移动一格；
3、k或者上方向键：将光标向上移动一格；
4、l或者右方向键：将光标向右移动一格；
5、$：移动光标到当前行的行末；
   数字0：移动光标到当前行的行首；
6、w:移动光标到下个字的开头；
7、e：移动光标到下个字的字尾；
8、b：移动光标回上个字的开头；
9、nl：在当前行中往右移动n个字符，如：2l、34l；
10、crtl+b:屏幕往上翻一页；
11、crtl+f:屏幕往下翻一页；
12、crtl+u:屏幕往上翻半页；
13、crtl+d:屏幕往下翻半页；
14、lG：移动光标到文件的第一行；
15、G：移动光标到文件的最后一行。
16、gg：移动光标到第一行&lt;/p&gt;

&lt;p&gt;三、文本编辑
1、r：替换光标所在处的字符；
2、R：替换光标所到之处的字符，直到按ESC键为止；
3、J：把光标所在行的下一行内容接到当前行的行末；
4、x：删除光标所在位置的字符；
5、nx：删除光标所在位置开始的n个字符，如3x删除3个字符；
6、X：删除光标所在位置的前一个字符；
7、nX：删除光标所在位置的前n个字符；
8、dw：删除光标所处位置的单词；
9、ndw：删除由光标所处位置之前的n个单词；
10、db：删除光标所处位置之前的一个单词；
11、ndb：删除光标所处位置之前的n个单词；
12、dd：删除光标所在的行；
13、ndd：删除光标所在行开始的n行；
14、d0：删除由光标所在行的第一个字符到光标所在位置的前一个字符之间的内容；
15、d$：删除由光标所在位置到光标所在行的最后一个字符之间的内容；
16、dlG：删除由文件第一行到光标所在行之间的内容；
17、dG：删除由光标所在行到文件最后一行之间的内容；
18、u：撤销更改的内容；
19、ctrl+u：撤销在输入模式下输入的内容。&lt;/p&gt;

&lt;p&gt;1、/str：从光标位置开始往文件末尾查找str，按n查找下一个，按N返回上一个；
2、?str：从光标位置开始往文件开头查找str，按n查找下一个，按N返回上一个；&lt;/p&gt;

&lt;h3 id=&quot;references&quot;&gt;References:&lt;/h3&gt;
&lt;ol&gt;
  &lt;li&gt;&lt;a href=&quot;http://blog.csdn.net/leexide/article/details/17269013&quot;&gt;VI编辑器常用快捷键&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;

</content>
 </entry>
 
 <entry>
   <title>Playing with Instagram's API</title>
   <link href="http://tzungtzu.com/2017/08/23/instagram-api.html"/>
   <updated>2017-08-23T00:00:00+08:00</updated>
   <id>http://tzungtzu.com/2017/08/23/instagram-api</id>
   <content type="html">&lt;p&gt;以下是一个关于使用 Instagram API 的 turtorial。 同时给出利用 API 用脚本给女朋友点赞的例子。（enlightened by cyan）&lt;/p&gt;

&lt;!--more--&gt;

&lt;ol&gt;
  &lt;li&gt;
    &lt;p&gt;安装 instagram python api.&lt;/p&gt;

    &lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt; #prerequisites
 pip install httplib2
 pip install simplejson
 #
 pip install python-instagram
&lt;/code&gt;&lt;/pre&gt;
    &lt;/div&gt;
  &lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;！！特别注意：&lt;/p&gt;

&lt;p&gt;由于这个包已经不再维护，导致有一些代码需要修改，否则后续报错。下面会提示。&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;
    &lt;p&gt;获取 access token&lt;/p&gt;

    &lt;ul&gt;
      &lt;li&gt;在 Instagram 的开发者中心创建一个 app，获取后续需要的 &lt;em&gt;client_id&lt;/em&gt; 和 &lt;em&gt;client_secret&lt;/em&gt; 。&lt;/li&gt;
      &lt;li&gt;
        &lt;p&gt;下载&lt;a href=&quot;http://movii.github.io/blog/2017/03/14/node-instagram-get-access-token/&quot;&gt;get_access_token.py&lt;/a&gt;并运行，按要求输入 &lt;em&gt;client_id,client_secret,redirect_url&lt;/em&gt; 以及 &lt;em&gt;code&lt;/em&gt;，输出 &lt;em&gt;access_token&lt;/em&gt;&lt;/p&gt;

        &lt;p&gt;fix for OAuth2AuthExchangeError: You must provide a client_id 
  在 &lt;em&gt;~/Library/Python/2.7/site-package *中 *instagram/oauth2.py&lt;/em&gt; 102行&lt;/p&gt;

        &lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;  -        response, content = http_object.request(url, method=&quot;POST&quot;, body=data)
  +        headers = {'Content-Type': 'application/x-www-form-urlencoded'}
  +        response, content = http_object.request(url, method=&quot;POST&quot;, body=data, headers=headers)
&lt;/code&gt;&lt;/pre&gt;
        &lt;/div&gt;
      &lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;通过 access token 点赞。&lt;/p&gt;

    &lt;p&gt;main.py&lt;/p&gt;

    &lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;from time import sleep  
from instagram.client import InstagramAPI
import logging

access_token = &quot;&quot;ENTER YOUR ACCESS TOKEN HERE&quot;&quot;
api = InstagramAPI(access_token=access_token,  
            client_ips=&quot;YOUR IP&quot;,
            client_secret=&quot;YOUR SECRET&quot;)

recent_media, next_ = api.user_recent_media(user_id=&quot;5106250160&quot;, count=20)

for media in recent_media:  
    # Where the media is
    id_ = media.id

    users = [user.username for user in media.likes]
    print users

        if &quot;YOUR USERNAME&quot; in users:
        print(&quot;IN PHOTO&quot;)

    else:
        print(&quot;LIKING PICTURE&quot;)
        api.like_media(media_id=id_)
&lt;/code&gt;&lt;/pre&gt;
    &lt;/div&gt;

    &lt;p&gt;其中 user_id=”5106250160” 改成要点赞的好友的id。
解决 KeyError: ‘data’ with Python Instagram API client[5] 即可。&lt;/p&gt;

    &lt;p&gt;需要注意，由于沙盒机制，必须先邀请好友进入沙盒。&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;设置定时任务。&lt;/p&gt;

    &lt;p&gt;*/2 * * * *  表示每两分钟执行一次。crontab&lt;/p&gt;
  &lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;Tips:
https://www.instagram.com/tzungtzu/media/ 可以获取 media without auth.&lt;/p&gt;

&lt;h3 id=&quot;references&quot;&gt;References:&lt;/h3&gt;
&lt;ol&gt;
  &lt;li&gt;&lt;a href=&quot;http://movii.github.io/blog/2017/03/14/node-instagram-get-access-token/&quot;&gt;笔记：获取 Instagram API 的 access token&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;http://leesonhsu.blogspot.hk/2016/04/instagram-api.html&quot;&gt;http://leesonhsu.blogspot.hk/2016/04/instagram-api.html&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://smashballoon.com/instagram-feed/find-instagram-user-id/?username=gromitintardis&amp;amp;5611zzl19832tjrl=4&quot;&gt;https://smashballoon.com/instagram-feed/find-instagram-user-id/?username=gromitintardis&amp;amp;5611zzl19832tjrl=4&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/vgavro/python-instagram/commit/9dfc264571ad7c343af3899445d13afedf23e3aa&quot;&gt;instagram-python&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://stackoverflow.com/questions/33924581/keyerror-data-with-python-instagram-api-client&quot;&gt;https://stackoverflow.com/questions/33924581/keyerror-data-with-python-instagram-api-client&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/facebookarchive/python-instagram/blob/master/README.md&quot;&gt;https://github.com/facebookarchive/python-instagram/blob/master/README.md&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;

</content>
 </entry>
 
 <entry>
   <title>贝叶斯思维</title>
   <link href="http://tzungtzu.com/2017/08/12/think-bayes.html"/>
   <updated>2017-08-12T00:00:00+08:00</updated>
   <id>http://tzungtzu.com/2017/08/12/think-bayes</id>
   <content type="html">&lt;table&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;联合概率： $p(A and B)=p(A)*p(B&lt;/td&gt;
      &lt;td&gt;A)$&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;table&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;$p(B_1&lt;/td&gt;
      &lt;td&gt;V)=\frac{p(B_1)p(V&lt;/td&gt;
      &lt;td&gt;B_1)}{p(V)}=\frac{p(B1)p(V&lt;/td&gt;
      &lt;td&gt;B_1)}{p(B_1)p(V&lt;/td&gt;
      &lt;td&gt;B_1)+p(B_1)p(V&lt;/td&gt;
      &lt;td&gt;B_2)+…}$&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;###历时诠释
根据数据集 D 的内容变化更新假设概率 H 。&lt;/p&gt;

&lt;table&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;$p(H&lt;/td&gt;
      &lt;td&gt;D)=\frac{p(H)p(D&lt;/td&gt;
      &lt;td&gt;H)}{p(D)}$&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;ul&gt;
  &lt;li&gt;p(H) 先验概率，即在得到新数据前某一假设的概率。&lt;/li&gt;
  &lt;li&gt;
    &lt;table&gt;
      &lt;tbody&gt;
        &lt;tr&gt;
          &lt;td&gt;p(H&lt;/td&gt;
          &lt;td&gt;D) 后验概率，即看到新数据后，我们要计算的该假设的概率。&lt;/td&gt;
        &lt;/tr&gt;
      &lt;/tbody&gt;
    &lt;/table&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;table&gt;
      &lt;tbody&gt;
        &lt;tr&gt;
          &lt;td&gt;p(D&lt;/td&gt;
          &lt;td&gt;H) &lt;a href=&quot;https://www.wikiwand.com/zh-hk/%E4%BC%BC%E7%84%B6%E5%87%BD%E6%95%B0#/.E6.9C.80.E5.A4.A7.E4.BC.BC.E7.84.B6.E4.BC.B0.E8.AE.A1&quot;&gt;似然度&lt;/a&gt;，该假设下得到这一数据的概率。&lt;/td&gt;
        &lt;/tr&gt;
      &lt;/tbody&gt;
    &lt;/table&gt;
  &lt;/li&gt;
  &lt;li&gt;p(D) 标准化常量，在任何假设下得到这一数据的概率。&lt;/li&gt;
&lt;/ul&gt;

&lt;!--more--&gt;

&lt;p&gt;似然比是贝叶斯计算中最简单的部分；标准化常量比较棘手，它被定义为所有假设条件下这一数据出现的概率，但因为考虑的是最一般的情况，所以不容易确定这个常量在具体应用场合的现实意义。&lt;/p&gt;

&lt;p&gt;最常见的，可以指定一组假设集来简化。&lt;/p&gt;

&lt;p&gt;互斥：集合中最多一个假设为真。
完备：集合中，至少一个为真，且集合包含了所有的假设。&lt;/p&gt;

&lt;p&gt;###估计&lt;/p&gt;

&lt;p&gt;前验概率为均匀分布&lt;/p&gt;

&lt;p&gt;前验概率为幂律分布&lt;/p&gt;

&lt;p&gt;置信区间：
对于点估计，通常使用平均数、中位数或者最大似然值
对于区间，我们通常给出两个计算值，使得位置量有905的可能落入这两个值之间。这些值定义了一个置信区间。&lt;/p&gt;

&lt;p&gt;积累分布函数：概率密度函数的积分&lt;/p&gt;

&lt;p&gt;###胜率&lt;/p&gt;

&lt;p&gt;胜率（odds）发生的概率和不发生概率的比值。
赔率是 1/胜率&lt;/p&gt;

&lt;p&gt;如果有A，B两个假设，后验概率的比值为&lt;/p&gt;

&lt;table&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;$\frac{p(A&lt;/td&gt;
      &lt;td&gt;D)}{p(B&lt;/td&gt;
      &lt;td&gt;D)}=\frac{p(A)p(D&lt;/td&gt;
      &lt;td&gt;A)}{p(B)p(D&lt;/td&gt;
      &lt;td&gt;B)}$&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;如果 A,B 互斥且穷尽，那么 $p(B)=1-p(A)$，那么先验，后验的比率都可以做为胜率，所以就有了贝叶斯定理的胜率形式。&lt;/p&gt;

&lt;table&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;$o(A&lt;/td&gt;
      &lt;td&gt;D)=o(A)\frac{p(D&lt;/td&gt;
      &lt;td&gt;A)}{p(D&lt;/td&gt;
      &lt;td&gt;B)}$&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;如果某一假设随着数据的出现呈现了更大的可能性，就可以说“数据支持了假设”。&lt;/p&gt;

&lt;p&gt;胜率模式变形：&lt;/p&gt;

&lt;table&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;$\frac{o(A&lt;/td&gt;
      &lt;td&gt;D)}{o(A)}=\frac{p(D&lt;/td&gt;
      &lt;td&gt;A)}{p(D&lt;/td&gt;
      &lt;td&gt;B)}$&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;等式左边是后验胜率和鲜艳胜率的比值，右边是似然比，也称为&lt;strong&gt;贝叶斯因子&lt;/strong&gt;。&lt;/p&gt;

&lt;p&gt;如果贝叶斯因子大于1，意味着数据更支持假设A。&lt;/p&gt;

</content>
 </entry>
 
 <entry>
   <title>恢复系统小记</title>
   <link href="http://tzungtzu.com/2017/08/11/time-machine.html"/>
   <updated>2017-08-11T00:00:00+08:00</updated>
   <id>http://tzungtzu.com/2017/08/11/time-machine</id>
   <content type="html">&lt;p&gt;昨天手一抖关闭 FileVault 功能，解密的时候非正常关机，导致系统坏了，通过 Time Machine 恢复系统到四月的 macOS Sierra。&lt;/p&gt;

&lt;!--more--&gt;

&lt;p&gt;还好最近一直在处理 mac 备份，同步的问题，按照&lt;a href=&quot;http://tzungtzu.github.io/2017/07/29/mac-setting.html&quot;&gt;配置 macOS&lt;/a&gt; 的步骤：&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;找到存好的 Surge，翻墙是第一步&lt;/li&gt;
  &lt;li&gt;Dropbox， 基本同步&lt;/li&gt;
  &lt;li&gt;Dropbox 中有保存的 文本替换，BTT 文件 （这些文件需要时常保存）&lt;/li&gt;
  &lt;li&gt;重新安装配置 iTerm，zshrcconfig, vimrc, sshconfig, sublime-key-binding&lt;/li&gt;
&lt;/ol&gt;

</content>
 </entry>
 
 <entry>
   <title>通过代理连接 ssh</title>
   <link href="http://tzungtzu.com/2017/08/11/ssh-socks5.html"/>
   <updated>2017-08-11T00:00:00+08:00</updated>
   <id>http://tzungtzu.com/2017/08/11/ssh-socks5</id>
   <content type="html">&lt;p&gt;安装 Surge 以后，通过&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;    echo export ALL_PROXY=socks5://127.0.0.1:6153
    curl ip.gs
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;可以将终端翻墙，但是依然无法连接 ssh，一直通过 Proxifier 来连接 ssh 服务器。&lt;/p&gt;

&lt;!--more--&gt;

&lt;p&gt;下面介绍通过ssh代理(跳板)在终端连线ssh服务器&lt;/p&gt;

&lt;p&gt;使用nc命令(netcat)实现，假设本地SSH代理的监听端口是6153，则ProxyCommand为&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;    ProxyCommand nc -x 127.0.0.1:3000 %h %p
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;在命令行里：&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;    ssh -i ~/Workspace/keys\&amp;amp;/baolei.pem -oProxyCommand=&quot;nc -x 127.0.0.1:6153 %h %p&quot; ubuntu@52.77.156.128
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;也可以添加到&lt;code class=&quot;highlighter-rouge&quot;&gt;~/.ssh/conf&lt;/code&gt;里：&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;    # ---ssh
    Host work
            Hostname 52.77.156.128
            User ubuntu
            PreferredAuthentications publickey
            IdentityFile ~/Workspace/keys&amp;amp;/baolei.pem
            ProxyCommand nc -x 127.0.0.1:6153 %h %p
    #---
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;nc也可以用于HTTPS代理，这需要指定所使用的协议，即添加 -X connect 参数。比如ssh_config中的例子&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;    ProxyCommand /usr/bin/nc -X connect -x 192.0.2.0:8080 %h %p
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;netcat也有很多其他用途，有兴趣可以看看&lt;/p&gt;

&lt;h3 id=&quot;references&quot;&gt;References:&lt;/h3&gt;
&lt;ol&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.slahser.com/2016/10/03/Migrate-fish88-to-Surge/&quot;&gt;https://www.slahser.com/2016/10/03/Migrate-fish88-to-Surge/&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;https://medium.com/@scomper/surge-%E7%9A%84%E5%A2%9E%E5%BC%BA%E6%A8%A1%E5%BC%8F-tun-cc0aaad86ff5&lt;/li&gt;
  &lt;li&gt;https://www.lainme.com/doku.php/blog/2011/01/%E9%80%8F%E8%BF%87%E4%BB%A3%E7%90%86%E8%BF%9E%E6%8E%A5ssh&lt;/li&gt;
  &lt;li&gt;https://blog.gtwang.org/linux/linux-utility-netcat-examples/&lt;/li&gt;
&lt;/ol&gt;

</content>
 </entry>
 
 <entry>
   <title>macOS 下修改 app 语言</title>
   <link href="http://tzungtzu.com/2017/08/07/macos-app-language.html"/>
   <updated>2017-08-07T00:00:00+08:00</updated>
   <id>http://tzungtzu.com/2017/08/07/macos-app-language</id>
   <content type="html">&lt;p&gt;macOS 系统语言为英文情况下，修改特定 app 语言为中文。以下以 maps 为例。&lt;/p&gt;

&lt;p&gt;~&lt;!--more--&gt;~&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;
    &lt;p&gt;[View]-&amp;gt; [Labels]-&amp;gt; [Always Show Labels in English]  取消后，地图上显示的名字将本地化，显示为中文。&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;如果需要 app 的设置都为中文，使用命令行：
‘‘defaults write com.apple.Maps AppleLanguages ‘(“zh-CN”)’&lt;/p&gt;
  &lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;macOS 界面在默认英文语言环境下最赏心悦目，也不用担心翻译带来的歧义；而对于地图等本地化软件，使用中文界面更好。&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>ssh使用公钥授权不通过的问题解决</title>
   <link href="http://tzungtzu.com/2017/07/31/ssh-publickey.html"/>
   <updated>2017-07-31T00:00:00+08:00</updated>
   <id>http://tzungtzu.com/2017/07/31/ssh-publickey</id>
   <content type="html">&lt;p&gt;如果你连接 ssh 出现问题：
	Permission denied (publickey,gssapi-keyex,gssapi-with-mic).&lt;/p&gt;

&lt;h2 id=&quot;不用怀疑是你的pem文件有错误&quot;&gt;不用怀疑，是你的pem文件有错误。&lt;/h2&gt;

&lt;p&gt;&lt;!--more--&gt;&lt;/p&gt;

&lt;p&gt;不过，偶尔也会有以下的情况：
1、下面两个目录的所有权必须是user，所属组也应该是user，权限必须为700
	\home\user
	\home\user.ssh
2、下面公钥文件的所有权必须是user，所属组也应该是user，权限必须为644
	\home\user.ssh\authorized_keys
3、下面私钥文件的所有权必须是user，所属组也应该是user，权限必须是600
	\home\user.ssh\id_rsa&lt;/p&gt;

&lt;p&gt;如果还有问题：将 &lt;code class=&quot;highlighter-rouge&quot;&gt;tc/ssh/sshd_config&lt;/code&gt; 文件进行如下修改：
	RSAAuthentication yes
	PubkeyAuthentication yes
	AuthorizedKeysFile     .ssh/authorized_keys&lt;/p&gt;

&lt;p&gt;重启sshd 服务&lt;/p&gt;

&lt;p&gt;—&lt;/p&gt;
&lt;h3 id=&quot;mac-设置-ssh-登录免密登录&quot;&gt;Mac 设置 ssh 登录免密登录&lt;/h3&gt;

&lt;h4 id=&quot;客户端-生成密钥&quot;&gt;客户端 生成密钥&lt;/h4&gt;

&lt;h4 id=&quot;ssh-服务端配置&quot;&gt;ssh 服务端配置&lt;/h4&gt;

&lt;h3 id=&quot;references&quot;&gt;References:&lt;/h3&gt;
&lt;ol&gt;
  &lt;li&gt;&lt;a href=&quot;&quot;&gt;http://laowafang.blog.51cto.com/251518/1364298&lt;/a&gt;()&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;http://www.jianshu.com/p/1fdcd9d9cb2f&quot; title=&quot;http://www.jianshu.com/p/1fdcd9d9cb2f&quot;&gt;http://www.jianshu.com/p/1fdcd9d9cb2f &lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;

</content>
 </entry>
 
 <entry>
   <title>ssh 常用命令</title>
   <link href="http://tzungtzu.com/2017/07/30/ssh-command.html"/>
   <updated>2017-07-30T00:00:00+08:00</updated>
   <id>http://tzungtzu.com/2017/07/30/ssh-command</id>
   <content type="html">&lt;h3 id=&quot;--登陆&quot;&gt;- 登陆&lt;/h3&gt;
&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;	ssh 主机名@主机IP   #输入对方密码就ok了。如果需要pem，加入-i。 ### - 远程复制(secure copy)
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;&lt;!--more--&gt;&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;scp -r  要传输的文件  我的主机名@主机的IP：路径
scp [参数] [原路径] [目标路径] ##-r 递归复制整个目录。
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;从本地服务器复制到远程服务器
	scp local_file remote_username@remote_ip:remote_folder
	$scp -r local_folder remote_username@remote_ip:remote_folder&lt;/p&gt;

&lt;h3 id=&quot;--关闭远程登录&quot;&gt;- 关闭远程登录&lt;/h3&gt;
&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;	exit  #主动断开和对方的连接
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h3 id=&quot;--重启服务器&quot;&gt;- 重启服务器&lt;/h3&gt;
&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;	sudo reboot
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h3 id=&quot;--关机&quot;&gt;- 关机&lt;/h3&gt;
&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;	shutdown -h now 现在立即关机
	shutdown -r now 现在立即重启
	shutdown -r +3 三分钟后重启
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

</content>
 </entry>
 
 
</feed>
